{% extends "auth_base.html" %}

{% block title %}Register{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}?v={{ cache_version }}">
{% endblock %}

{% block content %}
<div id="notification"></div>

<div class="register-container">
    <form action="/register" method="POST" class="register" id="register-form">
        <h2>Register</h2>
        <div class="input-group">
            <div>
                <label for="first-name">First Name</label>
                <input type="text" id="first-name" name="first_name" placeholder="First Name"
                required pattern="^[A-Za-z\s\'\-]+$" minlength="2" maxlength="50" style="text-transform: capitalize;"
                oninput="this.value = this.value.replace(/[^A-Za-z\s\-\']/g, '')">
            </div>
            <div>
                <label for="middle-name">Middle Name</label>
                <input type="text" id="middle-name" name="middle_name" placeholder="Middle Name"
                pattern="^[A-Za-z\s\'\-]+$" minlength="2" maxlength="50" style="text-transform: capitalize;"
                oninput="this.value = this.value.replace(/[^A-Za-z\s\-\']/g, '')">
            </div>
            <div>
                <label for="last-name">Last Name</label>
                <input type="text" id="last-name" name="last_name" placeholder="Last Name" 
                required pattern="^[A-Za-z\s\'\-]+$" minlength="2" maxlength="50" style="text-transform: capitalize;"
                oninput="this.value = this.value.replace(/[^A-Za-z\s\-\']/g, '')">                
            </div>
        </div>
        <label for="register-email">Email</label>
        <input type="email" id="register-email" name="email" placeholder="Enter your email" required
        pattern="^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$"
        title="Enter a valid email address (e.g., user@example.com)" autocomplete="username">
        <div class="password-group">
            <div>
                <label for="register-password">Password</label>
                <input type="password" id="register-password" name="entrykey" placeholder="Password" required minlength="8" maxlength="32"
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$"
                    title="Must be 8-32 characters long, contain an uppercase, lowercase, number, and special character." autocomplete="new-password">
            </div>
            <div>
                <label for="confirm-password">Confirm Password</label>
                <input type="password" id="confirm-password" name="confirm_password" placeholder="Confirm Password" required minlength="8" maxlength="32"
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$" autocomplete="new-password">
            </div>
        </div>
        <button type="submit" id="register-button">Create Account</button>
        <p style="text-align: center;">Already have an account? <a href="/login">Login</a></p>
    </form>
</div>

<div id="loading-overlay" class="loading-overlay">
    <div class="loading-container">
        <div class="loading-spinner"></div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/register.js') }}?v={{ cache_version }}"></script>

{% endblock %}