<!-- Organization Update Modal -->
<div id="updateOrganizationModal" class="global-modal">
    <div class="modal-container">
        <div class="modal-header d-flex justify-content-between align-items-center mb-3">
            <h4 class="modal-title fw-bold" style="font-size: 1rem; color: #0f3a40;">Update Organization</h4>
            <button class="btn-back" onclick="hideUpdateOrganizationModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
       <hr style="margin-bottom: 1.5rem;">
        <div class="container-short"> 
            <main> 
                <!-- Logo Upload Section --> 
                <section class="rounded-2xl p-3 d-flex flex-column gap-3" style="background: #F0F0F0; border-radius: 1rem;"> 
                    <div class="d-flex flex-column flex-sm-row align-items-center gap-3">
                        {% if organization.logo_id %}
                        <img id="updatePreviewLogo" src="{{ url_for('user_organization.get_logo', logo_id=organization.logo_id) }}" alt="{{ organization.organization_name }} logo" title="{% if organization.logo.description %}{{ organization.logo.description }}{% else %}{{ organization.organization_name }} - {{ organization.type if organization.type else 'Organization' }} Logo{% endif %}" class="rounded-circle" style="width:96px; height:96px; object-fit: cover;" />
                        {% else %}
                        <img id="updatePreviewLogo" src="https://placehold.co/120x120/png/ffffff/000000?text=Logo" alt="Organization logo" title="Organization Logo - Click 'Upload New Logo' to add a custom logo" class="rounded-circle" style="width:96px; height:96px; object-fit: cover;" />
                        {% endif %} 
                        <div class="d-flex flex-column gap-1"> 
                            <input type="file" id="updateLogoFileInput" style="display: none;" accept="image/*" onchange="handleUpdateLogoFileSelect(event)">
                            <div id="updateLogoUploadButtons">
                                <button type="button" class="btn btn-primary" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;" onclick="uploadNewUpdateLogo()">Upload New Logo</button>
                            </div>
                            <div id="updateLogoSaveButtons" style="display: none;">
                                <button type="button" class="btn btn-success" style="font-size: 0.75rem; padding: 0.25rem 0.5rem; margin-right: 0.5rem;" onclick="saveUpdateLogo()">Save</button>
                                <button type="button" class="btn btn-secondary" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;" onclick="cancelUpdateLogoUpload()">Cancel</button>
                            </div>
                            <p class="text-gray-500 mb-0" style="max-width: 260px; font-size: 0.75rem;"> 
                                At least <strong>800Ã—800 px</strong> recommended.<br />JPG or PNG is allowed 
                            </p> 
                        </div>
                    </div>
                    
                    <!-- Logo Description Row --> 
                    <div class="bg-white rounded-2xl border border-gray-100 p-3 section-logo-description"> 
                        <div class="d-flex justify-content-between align-items-center mb-2"> 
                            <label for="logo-description-field" class="fw-semibold text-gray-900 mb-0" style="font-size: 0.75rem;">Logo Description</label> 
                            {% if organization.logo and organization.logo.description %}
                            <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditLogoDescriptionForm()"> 
                                Edit
                            </button>
                            {% else %}
                            <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditLogoDescriptionForm()"> 
                                Add
                            </button>
                            {% endif %} 
                        </div> 
                        <div class="field-container" style="line-height: 1.625; font-size: 0.75rem;"> 
                            <textarea id="logo-description-field" rows="1" class="field-display" readonly>{% if organization.logo and organization.logo.description %}{{ organization.logo.description }}{% endif %}</textarea> 
                        </div> 
                    </div>
                </section> 
         
                <!-- Organization Info Section --> 
                <section class="bg-white rounded-2xl border border-gray-100 mt-3 p-3 section-organization"> 
                    <div class="d-flex justify-content-between align-items-center mb-2"> 
                        <label for="update-org-name-field" class="fw-semibold text-gray-900 mb-0" style="font-size: 0.75rem;">Organization</label> 
                        {% if organization.organization_name %}
                        <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditUpdateOrganizationNameForm()"> 
                            Edit
                        </button>
                        {% else %}
                        <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditUpdateOrganizationNameForm()"> 
                            Add
                        </button>
                        {% endif %} 
                    </div> 
                    <div class="field-container" style="line-height: 1.625; font-size: 0.75rem;"> 
                        <textarea id="update-org-name-field" rows="1" class="field-display" readonly>{% if organization.organization_name %}{{ organization.organization_name }}{% endif %}</textarea> 
                    </div> 
                </section> 
         
                <!-- Type Section --> 
                <section class="bg-white rounded-2xl border border-gray-100 mt-3 p-3 section-type"> 
                    <div class="d-flex justify-content-between align-items-center mb-2"> 
                        <label for="update-org-type-field" class="fw-semibold text-gray-900 mb-0" style="font-size: 0.75rem;">Type</label> 
                        {% if organization.type %}
                        <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditUpdateOrganizationTypeForm()"> 
                            Edit
                        </button>
                        {% else %}
                        <button type="button" class="text-primary" style="font-size: 0.75rem; background: none; border: none; padding: 0.25rem 0.5rem;" onclick="showEditUpdateOrganizationTypeForm()"> 
                            Add
                        </button>
                        {% endif %} 
                    </div> 
                    <div class="field-container" style="line-height: 1.625; font-size: 0.75rem;"> 
                        <textarea id="update-org-type-field" rows="1" class="field-display" readonly>{% if organization.type %}{{ organization.type }}{% endif %}</textarea> 
                    </div> 
                </section> 
                
                <!-- No global save button as each section has its own save functionality -->
            </main> 
        </div>
    </div>
</div>